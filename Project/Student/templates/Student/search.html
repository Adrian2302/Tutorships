{% extends "base.html" %}

{% block content %}

<div class="container">
    <div class="row">
        <div class="col-md-12">
            <form id="search_bar" action="buscar" method = "GET" style="margin-top: 2vw;">
                <div class="form-row">
                    <div class="col-lg-11 my-1">
                        <input type="text" class="form-control" name="buscar" id="search_value" placeholder="Ejemplo: InformÃ¡tica" value="{{latest_search}}" >
                    </div>
                    <div class="col-auto my-1 text-center">
                        <input type="submit" class="btn btn-primary" value="Buscar">
                    </div>
                </div>
            </form>
        </div>
    </div>
    <br>

    {% if not results %}
        <div class="alert alert-info" role="alert">
            No se encontraron resultados.
        </div>
    {% else %}
        {% for result in results %}
            <a  href='curso/{{result.course_name}}' style="text-decoration: none; color: inherit;">
                <div class="card mb-3">
                    <div class="row no-gutters">
                        <div class="col-md-8">
                            <div class="card-body">
                                <h5 class="card-title">{{result.course_name}}</h5>    
                            </div>
                        </div>
                    </div>
                </div>
            </a>
        {% endfor %}

        {% if results.has_other_pages %}
            <nav aria-label="Page navigation example">
                <ul class="pagination justify-content-center">
                    {% if results.has_previous %}
                        <li class="page-item" id="arrow-left">
                            <a class="page-link" href="buscar?buscar={{latest_search}}&pagina={{ results.previous_page_number }}">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chevron-double-left" viewBox="0 0 16 16">
                                    <path fill-rule="evenodd" d="M8.354 1.646a.5.5 0 0 1 0 .708L2.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z"/>
                                    <path fill-rule="evenodd" d="M12.354 1.646a.5.5 0 0 1 0 .708L6.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z"/>
                                </svg>
                            </a>
                        </li>
                    {% else %}
                        <li class="page-item disabled" id="arrow-left">
                            <a class="page-link">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chevron-double-left" viewBox="0 0 16 16">
                                    <path fill-rule="evenodd" d="M8.354 1.646a.5.5 0 0 1 0 .708L2.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z"/>
                                    <path fill-rule="evenodd" d="M12.354 1.646a.5.5 0 0 1 0 .708L6.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z"/>
                                </svg>
                            </a>
                        </li>
                    {% endif %}

                    {% for page in results.paginator.page_range %}
                        {% if results.number == page %}
                            <li class="page-item active"><a class="page-link">{{ page }}</a></li>
                        {% else %}
                            <li class="page-item"><a class="page-link" href="buscar?buscar={{latest_search}}&pagina={{page}}">{{ page }}</a></li>
                        {% endif %}
                    {% endfor %}

                    {% if results.has_next %}
                        <li class="page-item" id="arrow-right">
                            <a class="page-link" href="buscar?buscar={{latest_search}}&pagina={{ results.next_page_number }}">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chevron-double-right" viewBox="0 0 16 16">
                                    <path fill-rule="evenodd" d="M3.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L9.293 8 3.646 2.354a.5.5 0 0 1 0-.708z"/>
                                    <path fill-rule="evenodd" d="M7.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L13.293 8 7.646 2.354a.5.5 0 0 1 0-.708z"/>
                                </svg>
                            </a>
                        </li>
                    {% else %}
                        <li class="page-item disabled" id="arrow-right">
                            <a class="page-link">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chevron-double-right" viewBox="0 0 16 16">
                                    <path fill-rule="evenodd" d="M3.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L9.293 8 3.646 2.354a.5.5 0 0 1 0-.708z"/>
                                    <path fill-rule="evenodd" d="M7.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L13.293 8 7.646 2.354a.5.5 0 0 1 0-.708z"/>
                                </svg>
                            </a>
                        </li>
                    {% endif %}
                </ul>
            </nav>
        {% endif %}
    {% endif %}

</div>
{% endblock content %}